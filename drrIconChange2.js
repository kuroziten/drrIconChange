javascript:const girl=createImg("http://drrrkari.com/css/icon_girl.png","girl");const moza=createImg("http://drrrkari.com/css/icon_moza.png","moza");const tanaka=createImg("http://drrrkari.com/css/icon_tanaka.png","tanaka");const kanra=createImg("http://drrrkari.com/css/icon_kanra.png","kanra");const usa=createImg("http://drrrkari.com/css/icon_usa.png","usa");const gg=createImg("http://drrrkari.com/css/icon_gg.png","gg");const orange=createImg("http://drrrkari.com/css/icon_orange.png","orange");const zaika=createImg("http://drrrkari.com/css/icon_zaika.png","zaika");const setton=createImg("http://drrrkari.com/css/icon_setton.png","setton");const zawa=createImg("http://drrrkari.com/css/icon_zawa.png","zawa");const neko=createImg("http://drrrkari.com/css/icon_neko.png","neko");const purple=createImg("http://drrrkari.com/css/icon_purple.png","purple");const kai=createImg("http://drrrkari.com/css/icon_kai.png","kai");const bakyura=createImg("http://drrrkari.com/css/icon_bakyura.png","bakyura");const neko2=createImg("http://drrrkari.com/css/icon_neko2.png","neko2");const numakuro=createImg("http://drrrkari.com/css/icon_numakuro.png","numakuro");const bm=createImg("http://drrrkari.com/css/icon_bm.png","bm");const bear=createImg("http://drrrkari.com/css/icon_bear.png","bear");const rab=createImg("http://drrrkari.com/css/icon_rab.png","rab");const nyan=createImg("http://drrrkari.com/css/icon_nyan.png","nyan");const muff=createImg("http://drrrkari.com/css/icon_muff.png","muff");const muff_nyan=createImg("http://drrrkari.com/css/icon_muff_nyan.png","muff_nyan");const pop=document.createElement("div");pop.style.position="fixed";pop.style.width="90vw";pop.style.height="80vh";pop.style.left="5vw";pop.style.top="10vh";pop.style.backgroundColor="white";document.getElementsByTagName("html")[0].append(pop);pop.append(girl);pop.append(moza);pop.append(tanaka);pop.append(kanra);pop.append(usa);pop.append(gg);pop.append(orange);pop.append(zaika);pop.append(setton);pop.append(zawa);pop.append(neko);pop.append(purple);pop.append(kai);pop.append(bakyura);pop.append(neko2);pop.append(numakuro);pop.append(bm);pop.append(bear);pop.append(rab);pop.append(nyan);pop.append(muff);pop.append(muff_nyan);document.getElementsByClassName("message_box")[0].style.zIndex="0";function createImg(url,name){const img=document.createElement("img");img.src=url;img.style.width="8%";img.style.padding="1%";img.onclick=function(){iconChange(name)};return img} function iconChange(iconName){const roomName=document.getElementsByName("room_name")[0].value;const userName=document.getElementsByClassName("profname")[0].innerHTML;const userSetName=userName;document.getElementsByTagName("html").innerHTML="";const form=document.createElement('form');form.action='https://drrrkari.com/room/';form.method='post';const q2=document.createElement('input');q2.value='login';q2.name='login';const q1=document.createElement('input');q1.name='id';$.cookie('durarara-like-chat1',"",{path:"/",expires:-1});$.cookie('profile',"",{path:"/",expires:-1});$.cookie('OX_plg',"",{path:"/",expires:-1});$.cookie('_gid',"",{path:"/",expires:-1});$.cookie('cto_bundle',"",{path:"/",expires:-1});$.cookie('_im_vid',"",{path:"/",expires:-1});$.cookie('_ga',"",{path:"/",expires:-1});$.ajax('https://drrrkari.com/logout/',{type:'post'}).done(function(data){const html=data;const div=document.createElement("div");div.innerHTML=html;document.getElementsByTagName("html")[0].appendChild(div);const tokenLast=document.getElementsByName("token").length-1;if(tokenLast>=0){const token=document.getElementsByName("token")[tokenLast].value;document.getElementsByTagName("html")[0].innerHTML="";$.ajax('https://drrrkari.com/',{type:'post',data:{name:userSetName,login:"login",language:"ja-JP",icon:iconName,token:token}}).done(function(data2){const html2=data2;const div2=document.createElement("div");div2.innerHTML=html2;div2.style.display="none";document.getElementsByTagName("html")[0].appendChild(div2);const roomId=getRoomId(roomName,userName);q1.value=roomId;form.appendChild(q1);form.appendChild(q2);document.body.appendChild(form);form.submit()})}else{console.log("tokenが取得出来ませんでした。")}})} function getRoomId(roomName,userName){const names=document.getElementsByClassName("name");for(i=0;i<names.length;i++){const name=names[i];if(name.innerHTML==roomName)%E3%80%80{const next=name.nextElementSibling;const nextAll=next.innerHTML.replace(/\s+/g,"");if(nextAll.indexOf('>'+userName+'<')!=-1){console.log("room id :"+next.nextElementSibling.nextElementSibling.getElementsByTagName("input")[0].value);return next.nextElementSibling.nextElementSibling.getElementsByTagName("input")[0].value}}} return null}undefined;
